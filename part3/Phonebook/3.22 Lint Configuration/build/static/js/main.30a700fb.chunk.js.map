{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","nameValue","numberValue","onChangeName","onChangeNumber","onSubmit","type","Person","person","onDelete","name","number","onClick","id","Persons","persons","map","Notification","message","success","undefined","length","className","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","put","delete","App","useState","setPersons","filterName","setFilterName","newName","setNewName","newNumber","setNewNumber","notification","setNotification","useEffect","getPersons","showNotification","setTimeout","listPersons","catch","error","console","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personsExist","personObject","newPerson","concat","alert","personsDelete","window","confirm","result","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.30a700fb.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange}) => (\n   <div>\n      filter shown with: <input value={value} onChange={onChange} />\n   </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({nameValue, numberValue, onChangeName, onChangeNumber, onSubmit}) => (\n   <form onSubmit={onSubmit}>\n      <div>\n         name: <input value={nameValue} onChange={onChangeName} />\n      </div>\n      <div>\n         number: <input value={numberValue} onChange={onChangeNumber} />\n      </div>\n      <div>\n         <button type=\"submit\">add</button>\n      </div>\n   </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({person, onDelete}) => (\n   <div>\n      {person.name} {person.number} <input type=\"button\" value=\"delete\" onClick={() => onDelete(person.id)} />\n   </div>\n)\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, onDelete}) => (\n   <div>\n      {persons.map(person => \n         <Person key={person.name} person={person} onDelete={onDelete} />\n      )}\n   </div>\n)\n\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({message, success}) => {\r\n   if ((message === undefined) || (message === null) || (message.length === 0)) {\r\n      return null\r\n   }\r\n   \r\n   return (\r\n      <div className={(success ? 'notification success' : 'notification error')}>\r\n         {message}\r\n      </div>\r\n   )\r\n }\r\n\r\n export default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n   const request = axios.get(baseUrl)\r\n   return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n   const request = axios.post(baseUrl, newObject)\r\n   return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n   const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n   return request.then(response => response.data)\r\n}\r\n\r\nconst deleteById = id => {\r\n   const request = axios.delete(`${baseUrl}/${id}`)\r\n   return request.then(response => response.data)\r\n}\r\n\r\nconst personService = {\r\n   getAll: getAll,\r\n   create: create,\r\n   update: update,\r\n   delete: deleteById\r\n}\r\n\r\nexport default personService","\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n   const [ persons, setPersons ] = useState([])\n   const [ filterName, setFilterName ] = useState('')\n   const [ newName, setNewName ] = useState('')\n   const [ newNumber, setNewNumber ] = useState('')\n   const [ notification, setNotification ] = useState({})\n\n   const hook = () => {\n      getPersons()\n   }\n\n   // eslint-disable-next-line\n   useEffect(hook, [])\n\n   const showNotification = (message, success) => {\n      setNotification({\n         'message': message,\n         'success': success\n      })\n   \n      setTimeout(() => {\n         setNotification({\n            'message': null,\n            'success': success\n         })\n      }, 5000)\n   }\n\n   const getPersons = () => {\n      personService\n         .getAll()\n         .then(listPersons => {\n            setPersons(listPersons)\n         })\n         .catch(error => {\n            console.error(\"An error occurred in the get action: \", error)\n            showNotification(`An error occurred in the get action: ${error}`, false)\n         })  \n   }\n\n   const addPerson = (event) => {\n      event.preventDefault()\n\n      if ((newName.length > 0) && (newNumber.length > 0)) {\n         const personsExist = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase())\n\n         const personObject = {\n            name: newName,\n            number: newNumber,\n         }\n         \n         if (personsExist.length === 0) {       \n            personService\n               .create(personObject)\n               .then(newPerson => {\n                  setPersons(persons.concat(newPerson))\n                  showNotification(`${newPerson.name} has been added successfully`, true)\n               })\n               .catch(error => {\n                  console.error(\"An error occurred in the add action: \", error.response.data.error)\n                  showNotification(`An error occurred in the add action: ${error.response.data.error}`, false)\n                  getPersons()\n               })\n         }\n         else {\n            personService\n               .update(personsExist[0].id, personObject)\n               .then(newPerson => {\n                  setPersons(persons.map(person => person.id !== personsExist[0].id ? person : newPerson))\n                  showNotification(`${newPerson.name} has been updated successfully`, true)\n               })\n               .catch(error => {\n                  console.error(\"An error occurred in the update action: \", error.response.data.error)\n                  showNotification(`An error occurred in the update action: ${error.response.data.error}`, false)\n                  getPersons()\n               })\n         }\n\n         setNewName('')\n         setNewNumber('')\n      }\n      else {\n         alert('please insert a value in the form fields')\n      }\n   }\n   \n   const deletePerson = (id) => {\n      const personsDelete = persons.filter(person => person.id === id)\n      \n      if (personsDelete.length > 0) {\n         if (window.confirm(`Do you want to delete ${personsDelete[0].name} ?`)) {\n            personService\n               .delete(id)\n               .then(result => {\n                  setPersons(persons.filter(person => person.id !== id))\n                  showNotification(`${personsDelete[0].name} has been deleted successfully`, true)\n               })\n               .catch(error => {\n                  console.error(\"An error occurred in the delete action: \", error)\n                  showNotification(`An error occurred in the delete action: ${error}`, false)\n                  getPersons()\n               })\n         }\n      }\n      else {\n         getPersons()\n      }\n   }\n\n   const handleFilterNameChange = (event) => {\n      setFilterName(event.target.value)\n   }\n\n   const handleNewNameChange = (event) => {\n      setNewName(event.target.value)\n   }\n\n   const handleNewNumberChange = (event) => {\n      setNewNumber(event.target.value)\n   }\n\n   const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()))\n\n   return (\n      <div>\n         <h2>Phonebook</h2>\n         <Notification message={notification.message} success={notification.success} />\n\n         <Filter value={filterName} onChange={handleFilterNameChange} />\n\n         <h2>Add a new</h2>\n         <PersonForm nameValue={newName} numberValue={newNumber} onChangeName={handleNewNameChange} onChangeNumber={handleNewNumberChange} onSubmit={addPerson} />\n\n         <h2>Numbers</h2>\n         <Persons persons={personsToShow} onDelete={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n   <React.StrictMode>\n      <App />\n   </React.StrictMode>,\n   document.getElementById('root')\n);"],"sourceRoot":""}